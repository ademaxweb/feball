import{_ as h,a as c,r as p,o as r,c as i,b as t,g as u,j as a,k as g,F as d,e as m,l as v,d as k,w as y,t as _,f as C}from"./app-bd571e0e.js";const S={name:"StadiumCreate",data(){return{club:{name:"",founding:null,country_id:null},countries:[],errors:[],formSubmittingProcess:!1,name:"Создание клуба"}},beforeMount(){document.title=this.name},mounted(){this.getCountries()},methods:{getCountries(){c.country.getAll().then(n=>{this.countries=n})},submitForm(){if(this.formSubmittingProcess)return!1;if(this.errors=[],!this.formValidated)return this.errors.push("Вы заполнили не все поля формы"),!1;this.formSubmittingProcess=!0,c.club.create(this.club).then(n=>{console.log(n),this.formSubmittingProcess=!1,this.club.name=""}).catch(n=>{console.log(n),this.errors=n.data,this.formSubmittingProcess=!1})}},computed:{formValidated(){return this.club.name.trim()&&this.club.founding&&this.club.country_id}}},V={class:"container container--section container--pv container--center"},x=t("h2",{class:"heading"},"Создать клуб",-1),F={class:"form__block"},w=t("label",{for:"clubName",class:"form__input_label"},"Название",-1),N={class:"form__block"},P=t("label",{for:"clubFounding",class:"form__input_label"},"Дата основания",-1),M={class:"form__block"},B=t("label",{for:"clubCountry",class:"form__input_label"},"Страна",-1),U=["value"],D={class:"form__block"},T=["disabled"],j={class:"container container--pv-s"};function A(n,s,E,L,o,l){const b=p("router-link");return r(),i("div",V,[x,t("form",{class:"form",onSubmit:s[3]||(s[3]=v((...e)=>l.submitForm&&l.submitForm(...e),["prevent"]))},[t("div",F,[w,u(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>o.club.name=e),type:"text",class:"form__input",placeholder:"Название",id:"clubName"},null,512),[[a,o.club.name,void 0,{trim:!0}]])]),t("div",N,[P,u(t("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>o.club.founding=e),type:"date",class:"form__input",placeholder:"Дата основания",id:"clubFounding"},null,512),[[a,o.club.founding,void 0,{trim:!0}]])]),t("div",M,[B,u(t("select",{"onUpdate:modelValue":s[2]||(s[2]=e=>o.club.country_id=e),class:"dropdown",id:"clubCountry"},[(r(!0),i(d,null,m(o.countries,e=>(r(),i("option",{value:e.id},_(e.name),9,U))),256))],512),[[g,o.club.country_id]])]),t("div",D,[t("button",{type:"submit",disabled:!l.formValidated,class:"button form__submit_button"},"Создать",8,T),(r(!0),i(d,null,m(o.errors,(e,f)=>(r(),i("p",{class:"form__input_error",key:f},_(e),1))),128))])],32),t("div",j,[k(b,{to:{name:"stadiums"},class:"link link--underlined"},{default:y(()=>[C("К списку стадионов")]),_:1})])])}const z=h(S,[["render",A]]);export{z as default};
