import{_ as m,a as u,r as d,o as i,c as a,b as t,g as _,j as f,F as h,e as p,l as b,d as y,w as g,t as v,f as k}from"./app-dd2415a2.js";const x={name:"CountryCreate",data(){return{country:{name:""},errors:[],formSubmittingProcess:!1,name:"Создание страны"}},beforeMount(){document.title=this.name},methods:{submitForm(){if(this.formSubmittingProcess)return!1;if(this.errors=[],!this.formValidated)return this.errors.push("Вы заполнили не все поля формы"),!1;this.formSubmittingProcess=!0,u.country.create(this.country).then(e=>{console.log(e),this.formSubmittingProcess=!1}).catch(e=>{console.log(e),this.errors=e.data,this.formSubmittingProcess=!1})}},computed:{formValidated(){return this.country.name.trim()}}},S={class:"container container--section container--pv container--center"},V=t("h2",{class:"heading"},"Создать страну",-1),C={class:"form__block"},F=t("label",{for:"countryName",class:"form__input_label"},"Название",-1),N={class:"form__block"},P=["disabled"],w={class:"container container--pv-s"};function B(e,r,M,D,o,n){const c=d("router-link");return i(),a("div",S,[V,t("form",{class:"form",onSubmit:r[1]||(r[1]=b((...s)=>n.submitForm&&n.submitForm(...s),["prevent"]))},[t("div",C,[F,_(t("input",{"onUpdate:modelValue":r[0]||(r[0]=s=>o.country.name=s),type:"text",class:"form__input",placeholder:"Название",id:"countryName"},null,512),[[f,o.country.name,void 0,{trim:!0}]])]),t("div",N,[t("button",{type:"submit",disabled:!n.formValidated,class:"button form__submit_button"},"Создать",8,P),(i(!0),a(h,null,p(o.errors,(s,l)=>(i(),a("p",{class:"form__input_error",key:l},v(s),1))),128))])],32),t("div",w,[y(c,{to:{name:"countries"},class:"link link--underlined"},{default:g(()=>[k("К списку стран")]),_:1})])])}const j=m(x,[["render",B]]);export{j as default};
