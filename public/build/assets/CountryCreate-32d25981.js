import{_ as m,a as u,r as d,o as i,c as a,b as t,g as _,j as f,F as h,e as p,l as b,d as y,w as v,t as g,f as k}from"./app-31b2cb08.js";const x={name:"CountryCreate",data(){return{country:{name:""},errors:[],formSubmittingProcess:!1,name:"Создание страны"}},beforeMount(){document.title=this.name},methods:{submitForm(){if(this.formSubmittingProcess)return!1;if(this.errors=[],!this.formValidated)return this.errors.push("Вы заполнили не все поля формы"),!1;this.formSubmittingProcess=!0,u.country.create(this.country).then(e=>{console.log(e),this.formSubmittingProcess=!1}).catch(e=>{console.log(e),this.errors=e.data})}},computed:{formValidated(){return this.country.name.trim()}}},V={class:"container container--section container--pv container--center"},C=t("h2",{class:"heading"},"Создать страну",-1),S={class:"form__block"},F=t("label",{for:"countryName",class:"form__input_label"},"Название",-1),N={class:"form__block"},w=["disabled"],P={class:"container container--pv-s"};function B(e,s,M,D,o,n){const c=d("router-link");return i(),a("div",V,[C,t("form",{class:"form",onSubmit:s[1]||(s[1]=b((...r)=>n.submitForm&&n.submitForm(...r),["prevent"]))},[t("div",S,[F,_(t("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>o.country.name=r),type:"text",class:"form__input",placeholder:"Название",id:"countryName"},null,512),[[f,o.country.name,void 0,{trim:!0}]])]),t("div",N,[t("button",{type:"submit",disabled:!n.formValidated,class:"button form__submit_button"},"Создать",8,w),(i(!0),a(h,null,p(o.errors,(r,l)=>(i(),a("p",{class:"form__input_error",key:l},g(r),1))),128))])],32),t("div",P,[y(c,{to:{name:"countries"},class:"link link--underlined"},{default:v(()=>[k("К списку стран")]),_:1})])])}const j=m(x,[["render",B]]);export{j as default};
