import{_ as F,a as x,r as C,o as c,c as a,b as e,f as _,t,h as i,i as N,w as h,d as u,F as w,e as D}from"./app-dd2415a2.js";const B="/build/assets/unknown_player-ee094d9d.jpg",V={name:"ClubCurrent",data(){return{club:null,club_id:null}},mounted(){this.club_id=this.$route.params.id,x.club.getById(this.club_id).then(o=>{this.club=o,document.title=this.club.name}).catch(o=>console.log(o))},methods:{getAge(o){if(!o)return"Неизвестно";const r=new Date,m=new Date(o);let g=r.getFullYear()-m.getFullYear();const s=r.getMonth()-m.getMonth();return(s<0||s===0&&r.getDate()<m.getDate())&&g--,((l,b)=>l+" "+b[l%100>4&&l%100<20?2:[2,0,1,1,1,2][l%10<5?l%10:5]])(g,["год","года","лет"])},deleteClub(){if(!this.club_id)return!1;x.club.delete(this.club_id).then(o=>{console.log(o),this.club=null,this.$router.push({name:"clubs"})}).catch(o=>console.error(o))}}},A={key:0,class:"container--section container--gap container--pv"},Y={class:"heading heading--secondary"},M={class:"heading--secondary__accent"},j={class:"container container--full container--gap-s"},E={class:"heading heading--secondary"},I={key:0},L={class:"heading heading--secondary"},S={class:"heading--secondary__accent"},T={class:"heading heading--secondary"},q={key:0},z=e("h2",{class:"heading heading--secondary"},"Участие в турнирах:",-1),G={class:"list"},H={key:0,class:"list__item"},J=e("h3",{class:"heading"},"Турниров не найдено",-1),K=[J],O={class:"list__item"},P={class:"heading"},Q={class:"heading heading--secondary"},R={key:0,class:"heading--secondary__accent"},U={key:0,class:"container club_players"},W={class:"club_player"},X=e("div",{class:"club_player__image"},[e("img",{src:B,alt:""})],-1),Z={class:"container"},$={class:"container container--column"},ee={class:"club_player__secondary_text"},se={class:"club_player__secondary_text"},ne={class:"heading heading--secondary"},te={key:0,class:"heading--secondary__accent"},ce={key:1,class:"container club_players"},oe={class:"club_player"},ae=e("div",{class:"club_player__image"},[e("img",{src:B,alt:""})],-1),le={class:"container"},ie={class:"container container--column"},_e={class:"club_player__secondary_text"},re={class:"club_player__secondary_text"},ue={class:"club_player__secondary_text"};function de(o,r,m,g,s,d){var b,p,f,k;const y=C("font-awesome-icon"),l=C("router-link");return s.club?(c(),a("div",A,[e("h1",Y,[_("Клуб #"+t(s.club.id)+": ",1),e("span",M,t(s.club.name),1)]),e("div",j,[e("button",{class:"button button--action button--danger",onClick:r[0]||(r[0]=(...n)=>d.deleteClub&&d.deleteClub(...n))},"Удалить")]),e("h2",E,[_(" Стадион: "),s.club.stadium?i("",!0):(c(),a("span",I,"Неизвестно")),s.club.stadium?(c(),N(l,{key:1,to:{name:"stadium",params:{id:((b=s.club.stadium)==null?void 0:b.id)||1}},class:"link link--with_icon"},{default:h(()=>{var n;return[_(t(((n=s.club.stadium)==null?void 0:n.name)||"Неизвестно")+" ",1),u(y,{class:"link__icon",icon:"fa-solid fa-link"})]}),_:1},8,["to"])):i("",!0)]),e("h2",L,[_("Год основания: "),e("span",S,t(new Date(s.club.founding).getFullYear()),1)]),e("h2",T,[_(" Страна: "),s.club.country?i("",!0):(c(),a("span",q,"Неизвестно")),u(l,{to:{name:"country",params:{id:(p=s.club.country)==null?void 0:p.id}},class:"link link--with_icon"},{default:h(()=>{var n;return[_(t(((n=s.club.country)==null?void 0:n.name)||o.Неизвестно)+" ",1),u(y,{class:"link__icon",icon:"fa-solid fa-link"})]}),_:1},8,["to"])]),z,e("ul",G,[s.club.tournaments.length?i("",!0):(c(),a("li",H,K)),(c(!0),a(w,null,D(s.club.tournaments,n=>(c(),a("li",O,[u(l,{to:{name:"index"},class:"link"},{default:h(()=>[e("h3",P,t(n.name),1)]),_:2},1024)]))),256))]),e("h2",Q,[_("Главный тренер: "),s.club.manager?i("",!0):(c(),a("span",R,"Не известен"))]),s.club.manager?(c(),a("div",U,[e("div",W,[X,e("div",Z,[u(l,{to:{name:"index"}},{default:h(()=>{var n,v;return[e("h3",null,t(((n=s.club.manager)==null?void 0:n.name)||"Неизвестно")+" "+t(((v=s.club.manager)==null?void 0:v.surname)||"Неизвестно"),1)]}),_:1})]),e("div",$,[e("p",ee,t(((f=s.club.manager)==null?void 0:f.country.name)||"Неизвестно"),1),e("p",se,t(d.getAge((k=s.club.manager)==null?void 0:k.birth)),1)])])])):i("",!0),e("h2",ne,[_("Игроки: "),s.club.players.length?i("",!0):(c(),a("span",te,"Не найдены"))]),s.club.players.length?(c(),a("div",ce,[(c(!0),a(w,null,D(s.club.players,n=>(c(),a("div",oe,[ae,e("div",le,[u(l,{to:{name:"player",params:{id:n.id}}},{default:h(()=>[e("h3",null,t(n.name)+" "+t(n.surname),1)]),_:2},1032,["to"])]),e("div",ie,[e("p",_e,t(n.position.name)+" #"+t(n.number),1),e("p",re,t(n.country.name),1),e("p",ue,t(d.getAge(n.birth)),1)])]))),256))])):i("",!0)])):i("",!0)}const me=F(V,[["render",de]]);export{me as default};
